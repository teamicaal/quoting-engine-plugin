function quoteStart(){"function"==typeof ga&&ga("send","event","Quoting Engine","Start Quote"),"function"==typeof __gaTracker&&__gaTracker("send","event","Quoting Engine","Start Quote")}function quotePostcodeEnter(){"function"==typeof ga&&ga("send","event","Quoting Engine","Enter Postcode"),"function"==typeof __gaTracker&&__gaTracker("send","event","Quoting Engine","Enter Postcode")}function quoteComplete(){"function"==typeof ga&&ga("send","event","Quoting Engine","Complete Quote"),"function"==typeof __gaTracker&&__gaTracker("send","event","Quoting Engine","Complete Quote")}!function(e,t){"function"==typeof define&&define.amd?define(["jquery"],function($){return t(e,$)}):"object"==typeof exports?t(e,require("jquery")):t(e,e.jQuery||e.Zepto)}(this,function(e,$){"use strict";function t(e){if(C&&"none"===e.css("animation-name")&&"none"===e.css("-webkit-animation-name")&&"none"===e.css("-moz-animation-name")&&"none"===e.css("-o-animation-name")&&"none"===e.css("-ms-animation-name"))return 0;var t=e.css("animation-duration")||e.css("-webkit-animation-duration")||e.css("-moz-animation-duration")||e.css("-o-animation-duration")||e.css("-ms-animation-duration")||"0s",n=e.css("animation-delay")||e.css("-webkit-animation-delay")||e.css("-moz-animation-delay")||e.css("-o-animation-delay")||e.css("-ms-animation-delay")||"0s",a=e.css("animation-iteration-count")||e.css("-webkit-animation-iteration-count")||e.css("-moz-animation-iteration-count")||e.css("-o-animation-iteration-count")||e.css("-ms-animation-iteration-count")||"1",i,o,s,r;for(t=t.split(", "),n=n.split(", "),a=a.split(", "),r=0,o=t.length,i=Number.NEGATIVE_INFINITY;o>r;r++)s=parseFloat(t[r])*parseInt(a[r],10)+parseFloat(n[r]),s>i&&(i=s);return i}function n(){if($(document.body).height()<=$(window).height())return 0;var e=document.createElement("div"),t=document.createElement("div"),n,a;return e.style.visibility="hidden",e.style.width="100px",document.body.appendChild(e),n=e.offsetWidth,e.style.overflow="scroll",t.style.width="100%",e.appendChild(t),a=t.offsetWidth,e.parentNode.removeChild(e),n-a}function a(){if(!y){var e=$("html"),t=c("is-locked"),a,i;e.hasClass(t)||(i=$(document.body),a=parseInt(i.css("padding-right"),10)+n(),i.css("padding-right",a+"px"),e.addClass(t))}}function i(){if(!y){var e=$("html"),t=c("is-locked"),a,i;e.hasClass(t)&&(i=$(document.body),a=parseInt(i.css("padding-right"),10)-n(),i.css("padding-right",a+"px"),e.removeClass(t))}}function o(e,t,n,a){var i=c("is",t),o=[c("is",v.CLOSING),c("is",v.OPENING),c("is",v.CLOSED),c("is",v.OPENED)].join(" ");e.$bg.removeClass(o).addClass(i),e.$overlay.removeClass(o).addClass(i),e.$wrapper.removeClass(o).addClass(i),e.$modal.removeClass(o).addClass(i),e.state=t,!n&&e.$modal.trigger({type:t,reason:a},[{reason:a}])}function s(e,n,a){var i=0,o=function(e){e.target===this&&i++},s=function(e){e.target===this&&0===--i&&($.each(["$bg","$overlay","$wrapper","$modal"],function(e,t){a[t].off(f+" "+g)}),n())};$.each(["$bg","$overlay","$wrapper","$modal"],function(e,t){a[t].on(f,o).on(g,s)}),e(),0===t(a.$bg)&&0===t(a.$overlay)&&0===t(a.$wrapper)&&0===t(a.$modal)&&($.each(["$bg","$overlay","$wrapper","$modal"],function(e,t){a[t].off(f+" "+g)}),n())}function r(e){e.state!==v.CLOSED&&($.each(["$bg","$overlay","$wrapper","$modal"],function(t,n){e[n].off(f+" "+g)}),e.$bg.removeClass(e.settings.modifier),e.$overlay.removeClass(e.settings.modifier).hide(),e.$wrapper.hide(),i(),o(e,v.CLOSED,!0))}function d(e){var t={},n,a,i,o;for(e=e.replace(/\s*:\s*/g,":").replace(/\s*,\s*/g,","),n=e.split(","),o=0,a=n.length;a>o;o++)n[o]=n[o].split(":"),i=n[o][1],("string"==typeof i||i instanceof String)&&(i="true"===i||("false"===i?!1:i)),("string"==typeof i||i instanceof String)&&(i=isNaN(i)?i:+i),t[n[o][0]]=i;return t}function c(){for(var e=p,t=0;t<arguments.length;++t)e+="-"+arguments[t];return e}function l(){var e=location.hash.replace("#",""),t,n;if(e){try{n=$('[data-remodal-id="'+e+'"]')}catch(a){}n&&n.length&&(t=$[m].lookup[n.data(m)],t&&t.settings.hashTracking&&t.open())}else w&&w.state===v.OPENED&&w.settings.hashTracking&&w.close()}function u(e,t){var n=$(document.body),a=n,i=this;i.settings=$.extend({},h,t),i.index=$[m].lookup.push(i)-1,i.state=v.CLOSED,i.$overlay=$("."+c("overlay")),null!==i.settings.appendTo&&i.settings.appendTo.length&&(a=$(i.settings.appendTo)),i.$overlay.length||(i.$overlay=$("<div>").addClass(c("overlay")+" "+c("is",v.CLOSED)).hide(),a.append(i.$overlay)),i.$bg=$("."+c("bg")).addClass(c("is",v.CLOSED)),i.$modal=e.addClass(p+" "+c("is-initialized")+" "+i.settings.modifier+" "+c("is",v.CLOSED)).attr("tabindex","-1"),i.$wrapper=$("<div>").addClass(c("wrapper")+" "+i.settings.modifier+" "+c("is",v.CLOSED)).hide().append(i.$modal),a.append(i.$wrapper),i.$wrapper.on("click."+p,'[data-remodal-action="close"]',function(e){e.preventDefault(),i.close()}),i.$wrapper.on("click."+p,'[data-remodal-action="cancel"]',function(e){e.preventDefault(),i.$modal.trigger(E.CANCELLATION),i.settings.closeOnCancel&&i.close(E.CANCELLATION)}),i.$wrapper.on("click."+p,'[data-remodal-action="confirm"]',function(e){e.preventDefault(),i.$modal.trigger(E.CONFIRMATION),i.settings.closeOnConfirm&&i.close(E.CONFIRMATION)}),i.$wrapper.on("click."+p,function(e){var t=$(e.target);t.hasClass(c("wrapper"))&&i.settings.closeOnOutsideClick&&i.close()})}var m="remodal",p=e.REMODAL_GLOBALS&&e.REMODAL_GLOBALS.NAMESPACE||m,f=$.map(["animationstart","webkitAnimationStart","MSAnimationStart","oAnimationStart"],function(e){return e+"."+p}).join(" "),g=$.map(["animationend","webkitAnimationEnd","MSAnimationEnd","oAnimationEnd"],function(e){return e+"."+p}).join(" "),h=$.extend({hashTracking:!0,closeOnConfirm:!0,closeOnCancel:!0,closeOnEscape:!0,closeOnOutsideClick:!0,modifier:"",appendTo:null},e.REMODAL_GLOBALS&&e.REMODAL_GLOBALS.DEFAULTS),v={CLOSING:"closing",CLOSED:"closed",OPENING:"opening",OPENED:"opened"},E={CONFIRMATION:"confirmation",CANCELLATION:"cancellation"},C=function(){var e=document.createElement("div").style;return void 0!==e.animationName||void 0!==e.WebkitAnimationName||void 0!==e.MozAnimationName||void 0!==e.msAnimationName||void 0!==e.OAnimationName}(),y=/iPad|iPhone|iPod/.test(navigator.platform),w,O;u.prototype.open=function(){var e=this,t;e.state!==v.OPENING&&e.state!==v.CLOSING&&(t=e.$modal.attr("data-remodal-id"),t&&e.settings.hashTracking&&(O=$(window).scrollTop(),location.hash=t),w&&w!==e&&r(w),w=e,a(),e.$bg.addClass(e.settings.modifier),e.$overlay.addClass(e.settings.modifier).show(),e.$wrapper.show().scrollTop(0),e.$modal.focus(),s(function(){o(e,v.OPENING)},function(){o(e,v.OPENED)},e))},u.prototype.close=function(e){var t=this;t.state!==v.OPENING&&t.state!==v.CLOSING&&(t.settings.hashTracking&&t.$modal.attr("data-remodal-id")===location.hash.substr(1)&&(location.hash="",$(window).scrollTop(O)),s(function(){o(t,v.CLOSING,!1,e)},function(){t.$bg.removeClass(t.settings.modifier),t.$overlay.removeClass(t.settings.modifier).hide(),t.$wrapper.hide(),i(),o(t,v.CLOSED,!1,e)},t))},u.prototype.getState=function(){return this.state},u.prototype.destroy=function(){var e=$[m].lookup,t;r(this),this.$wrapper.remove(),delete e[this.index],t=$.grep(e,function(e){return!!e}).length,0===t&&(this.$overlay.remove(),this.$bg.removeClass(c("is",v.CLOSING)+" "+c("is",v.OPENING)+" "+c("is",v.CLOSED)+" "+c("is",v.OPENED)))},$[m]={lookup:[]},$.fn[m]=function(e){var t,n;return this.each(function(a,i){n=$(i),null==n.data(m)?(t=new u(n,e),n.data(m,t.index),t.settings.hashTracking&&n.attr("data-remodal-id")===location.hash.substr(1)&&t.open()):t=$[m].lookup[n.data(m)]}),t},$(document).ready(function(){$(document).on("click","[data-remodal-target]",function(e){e.preventDefault();var t=e.currentTarget,n=t.getAttribute("data-remodal-target"),a=$('[data-remodal-id="'+n+'"]');$[m].lookup[a.data(m)].open()}),$(document).find("."+p).each(function(e,t){var n=$(t),a=n.data("remodal-options");a?("string"==typeof a||a instanceof String)&&(a=d(a)):a={},n[m](a)}),$(document).on("keydown."+p,function(e){w&&w.settings.closeOnEscape&&w.state===v.OPENED&&27===e.keyCode&&w.close()}),$(window).on("hashchange."+p,l)})}),jQuery(function($){$('[data-toggle="quoting-engine"]').click(function(e){e.preventDefault();var t=$("#quoting-engine-modal"),n=$(t).remodal();body=$(t).find(".icaal__modal-body"),iframe=$(this).attr("data-iframe"),iframeElement='<iframe id="icaal__quote-engine" src="'+iframe+'" width="100%" height="" frameborder="0">',redirectWidth=$(this).attr("data-redirect-width"),windowWidth=$(window).width(),"undefined"!=typeof redirectWidth&&0!=redirectWidth||(redirectWidth=0),windowWidth>=redirectWidth||"undefined"==typeof redirectWidth||0==redirectWidth?(n.open(),$(t).data("engine")!==iframe&&($(t).data("engine",iframe),$(body).empty().append(iframeElement))):window.open(iframe,"_blank")})}),jQuery(function($){function e(e){var t=e.data,n=e.origin;if(n.includes("quotingengine.co.uk")||n.includes("quoting-engine.co.uk")){switch(t){case"quoteStart":quoteStart();break;case"quotePostcodeEnter":quotePostcodeEnter();break;case"quoteComplete":quoteComplete()}t.hasOwnProperty("height")&&$("#icaal__quote-engine").height(t.height)}}var t=window.addEventListener?"addEventListener":"attachEvent",n=window[t],a="attachEvent"==t?"onmessage":"message";n(a,function(e){$("#icaal__quote-engine").height(e.data)},!1),window.addEventListener("message",e,!1)});